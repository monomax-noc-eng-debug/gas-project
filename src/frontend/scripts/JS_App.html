<script>
  document.addEventListener('DOMContentLoaded', async () => {
    console.log("ðŸš€ App Starting...");

    // 1. Sidebar Links
    document.querySelectorAll('aside a[data-target]').forEach(el => {
      el.addEventListener('click', (e) => {
        e.preventDefault();
        const target = el.dataset.target;
        Router.navigateTo(target);
        // Close drawer on mobile
        const drawer = document.getElementById('my-drawer');
        if (drawer) drawer.checked = false;
      });
    });

    // 2. Initialize Data
    try {
      await Store.init();

      // 3. Navigate to Default
      Router.navigateTo('page-dashboard');

    } catch (e) {
      console.error("App Init Failed", e);
    }
  });
</script>