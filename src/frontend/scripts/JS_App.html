<script>
/**
 * JS_App.html
 * จุดเริ่มต้นของ Application (Entry Point)
 */

document.addEventListener('DOMContentLoaded', async () => {
  
  // 1. แสดง Loading
  UIManager.showLoading();

  try {
    // 2. โหลดข้อมูลเริ่มต้น (เรียก Store ที่เราเพิ่งสร้าง)
    await Store.init();

    // 3. ตั้งค่า Router เริ่มต้น (ไปหน้า Dashboard)
    Router.navigateTo('page-dashboard');

    // (Optional) โหลดข้อมูล Dashboard ทันที
    if(typeof Dashboard !== 'undefined') {
        Dashboard.loadData();
    }

  } catch (err) {
    console.error('App Start Error:', err);
    UIManager.showToast('Failed to load application', 'error');
  } finally {
    // 4. ปิด Loading
    UIManager.hideLoading();
  }

});
</script>