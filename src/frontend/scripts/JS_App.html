<script>
/**
 * JS_App.html
 */

document.addEventListener('DOMContentLoaded', async () => {
  
  UIManager.showLoading();

  try {
    await Store.init();

    // ไปหน้า Dashboard
    Router.navigateTo('page-dashboard');

    // ✅ แก้ไข: เรียก .init() เพื่อให้ตั้งค่าวันที่ปัจจุบันก่อนโหลดข้อมูล
    if(typeof Dashboard !== 'undefined') {
        Dashboard.init(); 
    }

  } catch (err) {
    console.error('App Start Error:', err);
    UIManager.showToast('Failed to load application', 'error');
  } finally {
    UIManager.hideLoading();
  }

});
</script>